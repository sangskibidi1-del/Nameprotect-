local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")

-- B·∫£ng map fake name
local nameMap = {}
local counter = 1
local prefix = "Protect"

-- LocalPlayer lu√¥n l√† NameProtect
nameMap[LocalPlayer] = "NameProtect"

-- H√†m fake t√™n
local function getFakeName(plr)
    if not nameMap[plr] then
        nameMap[plr] = prefix .. tostring(counter)
        counter += 1
    end
    return nameMap[plr]
end

-- H√†m thay text
local function replaceText(obj)
    if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
        for plr, fake in pairs(nameMap) do
            if obj.Text and (obj.Text:find(plr.Name) or obj.Text:find(plr.DisplayName)) then
                obj.Text = obj.Text:gsub(plr.Name, fake)
                obj.Text = obj.Text:gsub(plr.DisplayName, fake)
            end
        end
    end
end

-- Qu√©t GUI
local function scanUI()
    for _, gui in ipairs({LocalPlayer.PlayerGui, CoreGui}) do
        for _, obj in ipairs(gui:GetDescendants()) do
            replaceText(obj)
        end
    end
end

-- ƒê·ªïi t√™n tr√™n ƒë·∫ßu nh√¢n v·∫≠t
local function updateChar(plr)
    local fake = getFakeName(plr)
    if plr.Character and plr.Character:FindFirstChild("Humanoid") then
        plr.Character.Humanoid.DisplayName = fake
    end
end

-- Setup ban ƒë·∫ßu
for _, plr in ipairs(Players:GetPlayers()) do
    getFakeName(plr)
    updateChar(plr)
end

-- Ng∆∞·ªùi m·ªõi v√†o
Players.PlayerAdded:Connect(function(plr)
    getFakeName(plr)
    plr.CharacterAdded:Connect(function()
        updateChar(plr)
    end)
end)

-- C·∫≠p nh·∫≠t li√™n t·ª•c nh∆∞ng nh·∫π
task.spawn(function()
    while task.wait(0.05) do -- m·∫∑c ƒë·ªãnh an to√†n
        scanUI()
        for _, plr in ipairs(Players:GetPlayers()) do
            updateChar(plr)
        end
    end
end)

-- Watermark
local gui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
gui.IgnoreGuiInset = true
local label = Instance.new("TextLabel", gui)
label.Size = UDim2.new(1, 0, 0, 50)
label.BackgroundTransparency = 1
label.Text = "Made by ChatGPTü•Ä"
label.TextColor3 = Color3.fromRGB(0, 255, 127)
label.TextScaled = true
task.delay(5, function() gui:Destroy() end)
